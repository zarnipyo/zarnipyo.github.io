var st=u=>{throw TypeError(u)};var et=(u,z,L)=>z.has(u)||st("Cannot "+L);var Vn=(u,z,L)=>(et(u,z,"read from private field"),L?L.call(u):z.get(u)),vn=(u,z,L)=>z.has(u)?st("Cannot add the same private member more than once"):z instanceof WeakSet?z.add(u):z.set(u,L),Zn=(u,z,L,J)=>(et(u,z,"write to private field"),J?J.call(u,L):z.set(u,L),L);(function(){const z=document.createElement("link").relList;if(z&&z.supports&&z.supports("modulepreload"))return;for(const Q of document.querySelectorAll('link[rel="modulepreload"]'))J(Q);new MutationObserver(Q=>{for(const _ of Q)if(_.type==="childList")for(const nn of _.addedNodes)nn.tagName==="LINK"&&nn.rel==="modulepreload"&&J(nn)}).observe(document,{childList:!0,subtree:!0});function L(Q){const _={};return Q.integrity&&(_.integrity=Q.integrity),Q.referrerPolicy&&(_.referrerPolicy=Q.referrerPolicy),Q.crossOrigin==="use-credentials"?_.credentials="include":Q.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function J(Q){if(Q.ep)return;Q.ep=!0;const _=L(Q);fetch(Q.href,_)}})();function ht(u,z){return class extends u{constructor(...L){super(...L),z(this)}}}const dt=ht(Array,u=>u.fill(0));let X=1e-6;function Mt(u){function z(n=0,c=0){const t=new u(2);return n!==void 0&&(t[0]=n,c!==void 0&&(t[1]=c)),t}const L=z;function J(n,c,t){const s=t??new u(2);return s[0]=n,s[1]=c,s}function Q(n,c){const t=c??new u(2);return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function _(n,c){const t=c??new u(2);return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function nn(n,c){const t=c??new u(2);return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function on(n,c=0,t=1,s){const f=s??new u(2);return f[0]=Math.min(t,Math.max(c,n[0])),f[1]=Math.min(t,Math.max(c,n[1])),f}function rn(n,c,t){const s=t??new u(2);return s[0]=n[0]+c[0],s[1]=n[1]+c[1],s}function En(n,c,t,s){const f=s??new u(2);return f[0]=n[0]+c[0]*t,f[1]=n[1]+c[1]*t,f}function zn(n,c){const t=n[0],s=n[1],f=c[0],M=c[1],g=Math.sqrt(t*t+s*s),e=Math.sqrt(f*f+M*M),i=g*e,l=i&&Un(n,c)/i;return Math.acos(l)}function un(n,c,t){const s=t??new u(2);return s[0]=n[0]-c[0],s[1]=n[1]-c[1],s}const hn=un;function sn(n,c){return Math.abs(n[0]-c[0])<X&&Math.abs(n[1]-c[1])<X}function An(n,c){return n[0]===c[0]&&n[1]===c[1]}function tn(n,c,t,s){const f=s??new u(2);return f[0]=n[0]+t*(c[0]-n[0]),f[1]=n[1]+t*(c[1]-n[1]),f}function b(n,c,t,s){const f=s??new u(2);return f[0]=n[0]+t[0]*(c[0]-n[0]),f[1]=n[1]+t[1]*(c[1]-n[1]),f}function k(n,c,t){const s=t??new u(2);return s[0]=Math.max(n[0],c[0]),s[1]=Math.max(n[1],c[1]),s}function T(n,c,t){const s=t??new u(2);return s[0]=Math.min(n[0],c[0]),s[1]=Math.min(n[1],c[1]),s}function m(n,c,t){const s=t??new u(2);return s[0]=n[0]*c,s[1]=n[1]*c,s}const dn=m;function fn(n,c,t){const s=t??new u(2);return s[0]=n[0]/c,s[1]=n[1]/c,s}function Sn(n,c){const t=c??new u(2);return t[0]=1/n[0],t[1]=1/n[1],t}const an=Sn;function Bn(n,c,t){const s=t??new u(3),f=n[0]*c[1]-n[1]*c[0];return s[0]=0,s[1]=0,s[2]=f,s}function Un(n,c){return n[0]*c[0]+n[1]*c[1]}function wn(n){const c=n[0],t=n[1];return Math.sqrt(c*c+t*t)}const Ln=wn;function H(n){const c=n[0],t=n[1];return c*c+t*t}const K=H;function Z(n,c){const t=n[0]-c[0],s=n[1]-c[1];return Math.sqrt(t*t+s*s)}const w=Z;function P(n,c){const t=n[0]-c[0],s=n[1]-c[1];return t*t+s*s}const p=P;function S(n,c){const t=c??new u(2),s=n[0],f=n[1],M=Math.sqrt(s*s+f*f);return M>1e-5?(t[0]=s/M,t[1]=f/M):(t[0]=0,t[1]=0),t}function B(n,c){const t=c??new u(2);return t[0]=-n[0],t[1]=-n[1],t}function O(n,c){const t=c??new u(2);return t[0]=n[0],t[1]=n[1],t}const G=O;function R(n,c,t){const s=t??new u(2);return s[0]=n[0]*c[0],s[1]=n[1]*c[1],s}const N=R;function F(n,c,t){const s=t??new u(2);return s[0]=n[0]/c[0],s[1]=n[1]/c[1],s}const Y=F;function W(n=1,c){const t=c??new u(2),s=Math.random()*2*Math.PI;return t[0]=Math.cos(s)*n,t[1]=Math.sin(s)*n,t}function D(n){const c=n??new u(2);return c[0]=0,c[1]=0,c}function q(n,c,t){const s=t??new u(2),f=n[0],M=n[1];return s[0]=f*c[0]+M*c[4]+c[12],s[1]=f*c[1]+M*c[5]+c[13],s}function o(n,c,t){const s=t??new u(2),f=n[0],M=n[1];return s[0]=c[0]*f+c[4]*M+c[8],s[1]=c[1]*f+c[5]*M+c[9],s}function r(n,c,t,s){const f=s??new u(2),M=n[0]-c[0],g=n[1]-c[1],e=Math.sin(t),i=Math.cos(t);return f[0]=M*i-g*e+c[0],f[1]=M*e+g*i+c[1],f}function a(n,c,t){const s=t??new u(2);return S(n,s),m(s,c,s)}function d(n,c,t){const s=t??new u(2);return wn(n)>c?a(n,c,s):O(n,s)}function I(n,c,t){const s=t??new u(2);return tn(n,c,.5,s)}return{create:z,fromValues:L,set:J,ceil:Q,floor:_,round:nn,clamp:on,add:rn,addScaled:En,angle:zn,subtract:un,sub:hn,equalsApproximately:sn,equals:An,lerp:tn,lerpV:b,max:k,min:T,mulScalar:m,scale:dn,divScalar:fn,inverse:Sn,invert:an,cross:Bn,dot:Un,length:wn,len:Ln,lengthSq:H,lenSq:K,distance:Z,dist:w,distanceSq:P,distSq:p,normalize:S,negate:B,copy:O,clone:G,multiply:R,mul:N,divide:F,div:Y,random:W,zero:D,transformMat4:q,transformMat3:o,rotate:r,setLength:a,truncate:d,midpoint:I}}const ct=new Map;function lt(u){let z=ct.get(u);return z||(z=Mt(u),ct.set(u,z)),z}function Dt(u){const z=lt(u);function L(w,P,p,S,B,O,G,R,N){const F=new u(12);return F[3]=0,F[7]=0,F[11]=0,w!==void 0&&(F[0]=w,P!==void 0&&(F[1]=P,p!==void 0&&(F[2]=p,S!==void 0&&(F[4]=S,B!==void 0&&(F[5]=B,O!==void 0&&(F[6]=O,G!==void 0&&(F[8]=G,R!==void 0&&(F[9]=R,N!==void 0&&(F[10]=N))))))))),F}function J(w,P,p,S,B,O,G,R,N,F){const Y=F??new u(12);return Y[0]=w,Y[1]=P,Y[2]=p,Y[3]=0,Y[4]=S,Y[5]=B,Y[6]=O,Y[7]=0,Y[8]=G,Y[9]=R,Y[10]=N,Y[11]=0,Y}function Q(w,P){const p=P??new u(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[3]=0,p[4]=w[4],p[5]=w[5],p[6]=w[6],p[7]=0,p[8]=w[8],p[9]=w[9],p[10]=w[10],p[11]=0,p}function _(w,P){const p=P??new u(12),S=w[0],B=w[1],O=w[2],G=w[3],R=S+S,N=B+B,F=O+O,Y=S*R,W=B*R,D=B*N,q=O*R,o=O*N,r=O*F,a=G*R,d=G*N,I=G*F;return p[0]=1-D-r,p[1]=W+I,p[2]=q-d,p[3]=0,p[4]=W-I,p[5]=1-Y-r,p[6]=o+a,p[7]=0,p[8]=q+d,p[9]=o-a,p[10]=1-Y-D,p[11]=0,p}function nn(w,P){const p=P??new u(12);return p[0]=-w[0],p[1]=-w[1],p[2]=-w[2],p[4]=-w[4],p[5]=-w[5],p[6]=-w[6],p[8]=-w[8],p[9]=-w[9],p[10]=-w[10],p}function on(w,P){const p=P??new u(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[4]=w[4],p[5]=w[5],p[6]=w[6],p[8]=w[8],p[9]=w[9],p[10]=w[10],p}const rn=on;function En(w,P){return Math.abs(w[0]-P[0])<X&&Math.abs(w[1]-P[1])<X&&Math.abs(w[2]-P[2])<X&&Math.abs(w[4]-P[4])<X&&Math.abs(w[5]-P[5])<X&&Math.abs(w[6]-P[6])<X&&Math.abs(w[8]-P[8])<X&&Math.abs(w[9]-P[9])<X&&Math.abs(w[10]-P[10])<X}function zn(w,P){return w[0]===P[0]&&w[1]===P[1]&&w[2]===P[2]&&w[4]===P[4]&&w[5]===P[5]&&w[6]===P[6]&&w[8]===P[8]&&w[9]===P[9]&&w[10]===P[10]}function un(w){const P=w??new u(12);return P[0]=1,P[1]=0,P[2]=0,P[4]=0,P[5]=1,P[6]=0,P[8]=0,P[9]=0,P[10]=1,P}function hn(w,P){const p=P??new u(12);if(p===w){let D;return D=w[1],w[1]=w[4],w[4]=D,D=w[2],w[2]=w[8],w[8]=D,D=w[6],w[6]=w[9],w[9]=D,p}const S=w[0*4+0],B=w[0*4+1],O=w[0*4+2],G=w[1*4+0],R=w[1*4+1],N=w[1*4+2],F=w[2*4+0],Y=w[2*4+1],W=w[2*4+2];return p[0]=S,p[1]=G,p[2]=F,p[4]=B,p[5]=R,p[6]=Y,p[8]=O,p[9]=N,p[10]=W,p}function sn(w,P){const p=P??new u(12),S=w[0*4+0],B=w[0*4+1],O=w[0*4+2],G=w[1*4+0],R=w[1*4+1],N=w[1*4+2],F=w[2*4+0],Y=w[2*4+1],W=w[2*4+2],D=W*R-N*Y,q=-W*G+N*F,o=Y*G-R*F,r=1/(S*D+B*q+O*o);return p[0]=D*r,p[1]=(-W*B+O*Y)*r,p[2]=(N*B-O*R)*r,p[4]=q*r,p[5]=(W*S-O*F)*r,p[6]=(-N*S+O*G)*r,p[8]=o*r,p[9]=(-Y*S+B*F)*r,p[10]=(R*S-B*G)*r,p}function An(w){const P=w[0],p=w[0*4+1],S=w[0*4+2],B=w[1*4+0],O=w[1*4+1],G=w[1*4+2],R=w[2*4+0],N=w[2*4+1],F=w[2*4+2];return P*(O*F-N*G)-B*(p*F-N*S)+R*(p*G-O*S)}const tn=sn;function b(w,P,p){const S=p??new u(12),B=w[0],O=w[1],G=w[2],R=w[4],N=w[5],F=w[6],Y=w[8],W=w[9],D=w[10],q=P[0],o=P[1],r=P[2],a=P[4],d=P[5],I=P[6],n=P[8],c=P[9],t=P[10];return S[0]=B*q+R*o+Y*r,S[1]=O*q+N*o+W*r,S[2]=G*q+F*o+D*r,S[4]=B*a+R*d+Y*I,S[5]=O*a+N*d+W*I,S[6]=G*a+F*d+D*I,S[8]=B*n+R*c+Y*t,S[9]=O*n+N*c+W*t,S[10]=G*n+F*c+D*t,S}const k=b;function T(w,P,p){const S=p??un();return w!==S&&(S[0]=w[0],S[1]=w[1],S[2]=w[2],S[4]=w[4],S[5]=w[5],S[6]=w[6]),S[8]=P[0],S[9]=P[1],S[10]=1,S}function m(w,P){const p=P??z.create();return p[0]=w[8],p[1]=w[9],p}function dn(w,P,p){const S=p??z.create(),B=P*4;return S[0]=w[B+0],S[1]=w[B+1],S}function fn(w,P,p,S){const B=S===w?w:on(w,S),O=p*4;return B[O+0]=P[0],B[O+1]=P[1],B}function Sn(w,P){const p=P??z.create(),S=w[0],B=w[1],O=w[4],G=w[5];return p[0]=Math.sqrt(S*S+B*B),p[1]=Math.sqrt(O*O+G*G),p}function an(w,P){const p=P??new u(12);return p[0]=1,p[1]=0,p[2]=0,p[4]=0,p[5]=1,p[6]=0,p[8]=w[0],p[9]=w[1],p[10]=1,p}function Bn(w,P,p){const S=p??new u(12),B=P[0],O=P[1],G=w[0],R=w[1],N=w[2],F=w[1*4+0],Y=w[1*4+1],W=w[1*4+2],D=w[2*4+0],q=w[2*4+1],o=w[2*4+2];return w!==S&&(S[0]=G,S[1]=R,S[2]=N,S[4]=F,S[5]=Y,S[6]=W),S[8]=G*B+F*O+D,S[9]=R*B+Y*O+q,S[10]=N*B+W*O+o,S}function Un(w,P){const p=P??new u(12),S=Math.cos(w),B=Math.sin(w);return p[0]=S,p[1]=B,p[2]=0,p[4]=-B,p[5]=S,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function wn(w,P,p){const S=p??new u(12),B=w[0*4+0],O=w[0*4+1],G=w[0*4+2],R=w[1*4+0],N=w[1*4+1],F=w[1*4+2],Y=Math.cos(P),W=Math.sin(P);return S[0]=Y*B+W*R,S[1]=Y*O+W*N,S[2]=Y*G+W*F,S[4]=Y*R-W*B,S[5]=Y*N-W*O,S[6]=Y*F-W*G,w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function Ln(w,P){const p=P??new u(12);return p[0]=w[0],p[1]=0,p[2]=0,p[4]=0,p[5]=w[1],p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function H(w,P,p){const S=p??new u(12),B=P[0],O=P[1];return S[0]=B*w[0*4+0],S[1]=B*w[0*4+1],S[2]=B*w[0*4+2],S[4]=O*w[1*4+0],S[5]=O*w[1*4+1],S[6]=O*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function K(w,P){const p=P??new u(12);return p[0]=w,p[1]=0,p[2]=0,p[4]=0,p[5]=w,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function Z(w,P,p){const S=p??new u(12);return S[0]=P*w[0*4+0],S[1]=P*w[0*4+1],S[2]=P*w[0*4+2],S[4]=P*w[1*4+0],S[5]=P*w[1*4+1],S[6]=P*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}return{clone:rn,create:L,set:J,fromMat4:Q,fromQuat:_,negate:nn,copy:on,equalsApproximately:En,equals:zn,identity:un,transpose:hn,inverse:sn,invert:tn,determinant:An,mul:k,multiply:b,setTranslation:T,getTranslation:m,getAxis:dn,setAxis:fn,getScaling:Sn,translation:an,translate:Bn,rotation:Un,rotate:wn,scaling:Ln,scale:H,uniformScaling:K,uniformScale:Z}}const ot=new Map;function pt(u){let z=ot.get(u);return z||(z=Dt(u),ot.set(u,z)),z}function yt(u){function z(e,i,l){const h=new u(3);return e!==void 0&&(h[0]=e,i!==void 0&&(h[1]=i,l!==void 0&&(h[2]=l))),h}const L=z;function J(e,i,l,h){const y=h??new u(3);return y[0]=e,y[1]=i,y[2]=l,y}function Q(e,i){const l=i??new u(3);return l[0]=Math.ceil(e[0]),l[1]=Math.ceil(e[1]),l[2]=Math.ceil(e[2]),l}function _(e,i){const l=i??new u(3);return l[0]=Math.floor(e[0]),l[1]=Math.floor(e[1]),l[2]=Math.floor(e[2]),l}function nn(e,i){const l=i??new u(3);return l[0]=Math.round(e[0]),l[1]=Math.round(e[1]),l[2]=Math.round(e[2]),l}function on(e,i=0,l=1,h){const y=h??new u(3);return y[0]=Math.min(l,Math.max(i,e[0])),y[1]=Math.min(l,Math.max(i,e[1])),y[2]=Math.min(l,Math.max(i,e[2])),y}function rn(e,i,l){const h=l??new u(3);return h[0]=e[0]+i[0],h[1]=e[1]+i[1],h[2]=e[2]+i[2],h}function En(e,i,l,h){const y=h??new u(3);return y[0]=e[0]+i[0]*l,y[1]=e[1]+i[1]*l,y[2]=e[2]+i[2]*l,y}function zn(e,i){const l=e[0],h=e[1],y=e[2],x=i[0],A=i[1],U=i[2],$=Math.sqrt(l*l+h*h+y*y),V=Math.sqrt(x*x+A*A+U*U),E=$*V,v=E&&Un(e,i)/E;return Math.acos(v)}function un(e,i,l){const h=l??new u(3);return h[0]=e[0]-i[0],h[1]=e[1]-i[1],h[2]=e[2]-i[2],h}const hn=un;function sn(e,i){return Math.abs(e[0]-i[0])<X&&Math.abs(e[1]-i[1])<X&&Math.abs(e[2]-i[2])<X}function An(e,i){return e[0]===i[0]&&e[1]===i[1]&&e[2]===i[2]}function tn(e,i,l,h){const y=h??new u(3);return y[0]=e[0]+l*(i[0]-e[0]),y[1]=e[1]+l*(i[1]-e[1]),y[2]=e[2]+l*(i[2]-e[2]),y}function b(e,i,l,h){const y=h??new u(3);return y[0]=e[0]+l[0]*(i[0]-e[0]),y[1]=e[1]+l[1]*(i[1]-e[1]),y[2]=e[2]+l[2]*(i[2]-e[2]),y}function k(e,i,l){const h=l??new u(3);return h[0]=Math.max(e[0],i[0]),h[1]=Math.max(e[1],i[1]),h[2]=Math.max(e[2],i[2]),h}function T(e,i,l){const h=l??new u(3);return h[0]=Math.min(e[0],i[0]),h[1]=Math.min(e[1],i[1]),h[2]=Math.min(e[2],i[2]),h}function m(e,i,l){const h=l??new u(3);return h[0]=e[0]*i,h[1]=e[1]*i,h[2]=e[2]*i,h}const dn=m;function fn(e,i,l){const h=l??new u(3);return h[0]=e[0]/i,h[1]=e[1]/i,h[2]=e[2]/i,h}function Sn(e,i){const l=i??new u(3);return l[0]=1/e[0],l[1]=1/e[1],l[2]=1/e[2],l}const an=Sn;function Bn(e,i,l){const h=l??new u(3),y=e[2]*i[0]-e[0]*i[2],x=e[0]*i[1]-e[1]*i[0];return h[0]=e[1]*i[2]-e[2]*i[1],h[1]=y,h[2]=x,h}function Un(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function wn(e){const i=e[0],l=e[1],h=e[2];return Math.sqrt(i*i+l*l+h*h)}const Ln=wn;function H(e){const i=e[0],l=e[1],h=e[2];return i*i+l*l+h*h}const K=H;function Z(e,i){const l=e[0]-i[0],h=e[1]-i[1],y=e[2]-i[2];return Math.sqrt(l*l+h*h+y*y)}const w=Z;function P(e,i){const l=e[0]-i[0],h=e[1]-i[1],y=e[2]-i[2];return l*l+h*h+y*y}const p=P;function S(e,i){const l=i??new u(3),h=e[0],y=e[1],x=e[2],A=Math.sqrt(h*h+y*y+x*x);return A>1e-5?(l[0]=h/A,l[1]=y/A,l[2]=x/A):(l[0]=0,l[1]=0,l[2]=0),l}function B(e,i){const l=i??new u(3);return l[0]=-e[0],l[1]=-e[1],l[2]=-e[2],l}function O(e,i){const l=i??new u(3);return l[0]=e[0],l[1]=e[1],l[2]=e[2],l}const G=O;function R(e,i,l){const h=l??new u(3);return h[0]=e[0]*i[0],h[1]=e[1]*i[1],h[2]=e[2]*i[2],h}const N=R;function F(e,i,l){const h=l??new u(3);return h[0]=e[0]/i[0],h[1]=e[1]/i[1],h[2]=e[2]/i[2],h}const Y=F;function W(e=1,i){const l=i??new u(3),h=Math.random()*2*Math.PI,y=Math.random()*2-1,x=Math.sqrt(1-y*y)*e;return l[0]=Math.cos(h)*x,l[1]=Math.sin(h)*x,l[2]=y*e,l}function D(e){const i=e??new u(3);return i[0]=0,i[1]=0,i[2]=0,i}function q(e,i,l){const h=l??new u(3),y=e[0],x=e[1],A=e[2],U=i[3]*y+i[7]*x+i[11]*A+i[15]||1;return h[0]=(i[0]*y+i[4]*x+i[8]*A+i[12])/U,h[1]=(i[1]*y+i[5]*x+i[9]*A+i[13])/U,h[2]=(i[2]*y+i[6]*x+i[10]*A+i[14])/U,h}function o(e,i,l){const h=l??new u(3),y=e[0],x=e[1],A=e[2];return h[0]=y*i[0*4+0]+x*i[1*4+0]+A*i[2*4+0],h[1]=y*i[0*4+1]+x*i[1*4+1]+A*i[2*4+1],h[2]=y*i[0*4+2]+x*i[1*4+2]+A*i[2*4+2],h}function r(e,i,l){const h=l??new u(3),y=e[0],x=e[1],A=e[2];return h[0]=y*i[0]+x*i[4]+A*i[8],h[1]=y*i[1]+x*i[5]+A*i[9],h[2]=y*i[2]+x*i[6]+A*i[10],h}function a(e,i,l){const h=l??new u(3),y=i[0],x=i[1],A=i[2],U=i[3]*2,$=e[0],V=e[1],E=e[2],v=x*E-A*V,j=A*$-y*E,C=y*V-x*$;return h[0]=$+v*U+(x*C-A*j)*2,h[1]=V+j*U+(A*v-y*C)*2,h[2]=E+C*U+(y*j-x*v)*2,h}function d(e,i){const l=i??new u(3);return l[0]=e[12],l[1]=e[13],l[2]=e[14],l}function I(e,i,l){const h=l??new u(3),y=i*4;return h[0]=e[y+0],h[1]=e[y+1],h[2]=e[y+2],h}function n(e,i){const l=i??new u(3),h=e[0],y=e[1],x=e[2],A=e[4],U=e[5],$=e[6],V=e[8],E=e[9],v=e[10];return l[0]=Math.sqrt(h*h+y*y+x*x),l[1]=Math.sqrt(A*A+U*U+$*$),l[2]=Math.sqrt(V*V+E*E+v*v),l}function c(e,i,l,h){const y=h??new u(3),x=[],A=[];return x[0]=e[0]-i[0],x[1]=e[1]-i[1],x[2]=e[2]-i[2],A[0]=x[0],A[1]=x[1]*Math.cos(l)-x[2]*Math.sin(l),A[2]=x[1]*Math.sin(l)+x[2]*Math.cos(l),y[0]=A[0]+i[0],y[1]=A[1]+i[1],y[2]=A[2]+i[2],y}function t(e,i,l,h){const y=h??new u(3),x=[],A=[];return x[0]=e[0]-i[0],x[1]=e[1]-i[1],x[2]=e[2]-i[2],A[0]=x[2]*Math.sin(l)+x[0]*Math.cos(l),A[1]=x[1],A[2]=x[2]*Math.cos(l)-x[0]*Math.sin(l),y[0]=A[0]+i[0],y[1]=A[1]+i[1],y[2]=A[2]+i[2],y}function s(e,i,l,h){const y=h??new u(3),x=[],A=[];return x[0]=e[0]-i[0],x[1]=e[1]-i[1],x[2]=e[2]-i[2],A[0]=x[0]*Math.cos(l)-x[1]*Math.sin(l),A[1]=x[0]*Math.sin(l)+x[1]*Math.cos(l),A[2]=x[2],y[0]=A[0]+i[0],y[1]=A[1]+i[1],y[2]=A[2]+i[2],y}function f(e,i,l){const h=l??new u(3);return S(e,h),m(h,i,h)}function M(e,i,l){const h=l??new u(3);return wn(e)>i?f(e,i,h):O(e,h)}function g(e,i,l){const h=l??new u(3);return tn(e,i,.5,h)}return{create:z,fromValues:L,set:J,ceil:Q,floor:_,round:nn,clamp:on,add:rn,addScaled:En,angle:zn,subtract:un,sub:hn,equalsApproximately:sn,equals:An,lerp:tn,lerpV:b,max:k,min:T,mulScalar:m,scale:dn,divScalar:fn,inverse:Sn,invert:an,cross:Bn,dot:Un,length:wn,len:Ln,lengthSq:H,lenSq:K,distance:Z,dist:w,distanceSq:P,distSq:p,normalize:S,negate:B,copy:O,clone:G,multiply:R,mul:N,divide:F,div:Y,random:W,zero:D,transformMat4:q,transformMat4Upper3x3:o,transformMat3:r,transformQuat:a,getTranslation:d,getAxis:I,getScaling:n,rotateX:c,rotateY:t,rotateZ:s,setLength:f,truncate:M,midpoint:g}}const rt=new Map;function kn(u){let z=rt.get(u);return z||(z=yt(u),rt.set(u,z)),z}function xt(u){const z=kn(u);function L(n,c,t,s,f,M,g,e,i,l,h,y,x,A,U,$){const V=new u(16);return n!==void 0&&(V[0]=n,c!==void 0&&(V[1]=c,t!==void 0&&(V[2]=t,s!==void 0&&(V[3]=s,f!==void 0&&(V[4]=f,M!==void 0&&(V[5]=M,g!==void 0&&(V[6]=g,e!==void 0&&(V[7]=e,i!==void 0&&(V[8]=i,l!==void 0&&(V[9]=l,h!==void 0&&(V[10]=h,y!==void 0&&(V[11]=y,x!==void 0&&(V[12]=x,A!==void 0&&(V[13]=A,U!==void 0&&(V[14]=U,$!==void 0&&(V[15]=$)))))))))))))))),V}function J(n,c,t,s,f,M,g,e,i,l,h,y,x,A,U,$,V){const E=V??new u(16);return E[0]=n,E[1]=c,E[2]=t,E[3]=s,E[4]=f,E[5]=M,E[6]=g,E[7]=e,E[8]=i,E[9]=l,E[10]=h,E[11]=y,E[12]=x,E[13]=A,E[14]=U,E[15]=$,E}function Q(n,c){const t=c??new u(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=0,t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(n,c){const t=c??new u(16),s=n[0],f=n[1],M=n[2],g=n[3],e=s+s,i=f+f,l=M+M,h=s*e,y=f*e,x=f*i,A=M*e,U=M*i,$=M*l,V=g*e,E=g*i,v=g*l;return t[0]=1-x-$,t[1]=y+v,t[2]=A-E,t[3]=0,t[4]=y-v,t[5]=1-h-$,t[6]=U+V,t[7]=0,t[8]=A+E,t[9]=U-V,t[10]=1-h-x,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nn(n,c){const t=c??new u(16);return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t}function on(n,c){const t=c??new u(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}const rn=on;function En(n,c){return Math.abs(n[0]-c[0])<X&&Math.abs(n[1]-c[1])<X&&Math.abs(n[2]-c[2])<X&&Math.abs(n[3]-c[3])<X&&Math.abs(n[4]-c[4])<X&&Math.abs(n[5]-c[5])<X&&Math.abs(n[6]-c[6])<X&&Math.abs(n[7]-c[7])<X&&Math.abs(n[8]-c[8])<X&&Math.abs(n[9]-c[9])<X&&Math.abs(n[10]-c[10])<X&&Math.abs(n[11]-c[11])<X&&Math.abs(n[12]-c[12])<X&&Math.abs(n[13]-c[13])<X&&Math.abs(n[14]-c[14])<X&&Math.abs(n[15]-c[15])<X}function zn(n,c){return n[0]===c[0]&&n[1]===c[1]&&n[2]===c[2]&&n[3]===c[3]&&n[4]===c[4]&&n[5]===c[5]&&n[6]===c[6]&&n[7]===c[7]&&n[8]===c[8]&&n[9]===c[9]&&n[10]===c[10]&&n[11]===c[11]&&n[12]===c[12]&&n[13]===c[13]&&n[14]===c[14]&&n[15]===c[15]}function un(n){const c=n??new u(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function hn(n,c){const t=c??new u(16);if(t===n){let j;return j=n[1],n[1]=n[4],n[4]=j,j=n[2],n[2]=n[8],n[8]=j,j=n[3],n[3]=n[12],n[12]=j,j=n[6],n[6]=n[9],n[9]=j,j=n[7],n[7]=n[13],n[13]=j,j=n[11],n[11]=n[14],n[14]=j,t}const s=n[0*4+0],f=n[0*4+1],M=n[0*4+2],g=n[0*4+3],e=n[1*4+0],i=n[1*4+1],l=n[1*4+2],h=n[1*4+3],y=n[2*4+0],x=n[2*4+1],A=n[2*4+2],U=n[2*4+3],$=n[3*4+0],V=n[3*4+1],E=n[3*4+2],v=n[3*4+3];return t[0]=s,t[1]=e,t[2]=y,t[3]=$,t[4]=f,t[5]=i,t[6]=x,t[7]=V,t[8]=M,t[9]=l,t[10]=A,t[11]=E,t[12]=g,t[13]=h,t[14]=U,t[15]=v,t}function sn(n,c){const t=c??new u(16),s=n[0*4+0],f=n[0*4+1],M=n[0*4+2],g=n[0*4+3],e=n[1*4+0],i=n[1*4+1],l=n[1*4+2],h=n[1*4+3],y=n[2*4+0],x=n[2*4+1],A=n[2*4+2],U=n[2*4+3],$=n[3*4+0],V=n[3*4+1],E=n[3*4+2],v=n[3*4+3],j=A*v,C=E*U,en=l*v,cn=E*h,ln=l*U,Mn=A*h,Dn=M*v,pn=E*g,yn=M*U,xn=A*g,qn=M*h,Pn=l*g,In=y*V,On=$*x,Fn=e*V,Yn=$*i,$n=e*x,jn=y*i,Qn=s*V,Hn=$*f,Wn=s*x,_n=y*f,Kn=s*i,Jn=e*f,bn=j*i+cn*x+ln*V-(C*i+en*x+Mn*V),Cn=C*f+Dn*x+xn*V-(j*f+pn*x+yn*V),nt=en*f+pn*i+qn*V-(cn*f+Dn*i+Pn*V),tt=Mn*f+yn*i+Pn*x-(ln*f+xn*i+qn*x),gn=1/(s*bn+e*Cn+y*nt+$*tt);return t[0]=gn*bn,t[1]=gn*Cn,t[2]=gn*nt,t[3]=gn*tt,t[4]=gn*(C*e+en*y+Mn*$-(j*e+cn*y+ln*$)),t[5]=gn*(j*s+pn*y+yn*$-(C*s+Dn*y+xn*$)),t[6]=gn*(cn*s+Dn*e+Pn*$-(en*s+pn*e+qn*$)),t[7]=gn*(ln*s+xn*e+qn*y-(Mn*s+yn*e+Pn*y)),t[8]=gn*(In*h+Yn*U+$n*v-(On*h+Fn*U+jn*v)),t[9]=gn*(On*g+Qn*U+_n*v-(In*g+Hn*U+Wn*v)),t[10]=gn*(Fn*g+Hn*h+Kn*v-(Yn*g+Qn*h+Jn*v)),t[11]=gn*(jn*g+Wn*h+Jn*U-($n*g+_n*h+Kn*U)),t[12]=gn*(Fn*A+jn*E+On*l-($n*E+In*l+Yn*A)),t[13]=gn*(Wn*E+In*M+Hn*A-(Qn*A+_n*E+On*M)),t[14]=gn*(Qn*l+Jn*E+Yn*M-(Kn*E+Fn*M+Hn*l)),t[15]=gn*(Kn*A+$n*M+_n*l-(Wn*l+Jn*A+jn*M)),t}function An(n){const c=n[0],t=n[0*4+1],s=n[0*4+2],f=n[0*4+3],M=n[1*4+0],g=n[1*4+1],e=n[1*4+2],i=n[1*4+3],l=n[2*4+0],h=n[2*4+1],y=n[2*4+2],x=n[2*4+3],A=n[3*4+0],U=n[3*4+1],$=n[3*4+2],V=n[3*4+3],E=y*V,v=$*x,j=e*V,C=$*i,en=e*x,cn=y*i,ln=s*V,Mn=$*f,Dn=s*x,pn=y*f,yn=s*i,xn=e*f,qn=E*g+C*h+en*U-(v*g+j*h+cn*U),Pn=v*t+ln*h+pn*U-(E*t+Mn*h+Dn*U),In=j*t+Mn*g+yn*U-(C*t+ln*g+xn*U),On=cn*t+Dn*g+xn*h-(en*t+pn*g+yn*h);return c*qn+M*Pn+l*In+A*On}const tn=sn;function b(n,c,t){const s=t??new u(16),f=n[0],M=n[1],g=n[2],e=n[3],i=n[4],l=n[5],h=n[6],y=n[7],x=n[8],A=n[9],U=n[10],$=n[11],V=n[12],E=n[13],v=n[14],j=n[15],C=c[0],en=c[1],cn=c[2],ln=c[3],Mn=c[4],Dn=c[5],pn=c[6],yn=c[7],xn=c[8],qn=c[9],Pn=c[10],In=c[11],On=c[12],Fn=c[13],Yn=c[14],$n=c[15];return s[0]=f*C+i*en+x*cn+V*ln,s[1]=M*C+l*en+A*cn+E*ln,s[2]=g*C+h*en+U*cn+v*ln,s[3]=e*C+y*en+$*cn+j*ln,s[4]=f*Mn+i*Dn+x*pn+V*yn,s[5]=M*Mn+l*Dn+A*pn+E*yn,s[6]=g*Mn+h*Dn+U*pn+v*yn,s[7]=e*Mn+y*Dn+$*pn+j*yn,s[8]=f*xn+i*qn+x*Pn+V*In,s[9]=M*xn+l*qn+A*Pn+E*In,s[10]=g*xn+h*qn+U*Pn+v*In,s[11]=e*xn+y*qn+$*Pn+j*In,s[12]=f*On+i*Fn+x*Yn+V*$n,s[13]=M*On+l*Fn+A*Yn+E*$n,s[14]=g*On+h*Fn+U*Yn+v*$n,s[15]=e*On+y*Fn+$*Yn+j*$n,s}const k=b;function T(n,c,t){const s=t??un();return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11]),s[12]=c[0],s[13]=c[1],s[14]=c[2],s[15]=1,s}function m(n,c){const t=c??z.create();return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function dn(n,c,t){const s=t??z.create(),f=c*4;return s[0]=n[f+0],s[1]=n[f+1],s[2]=n[f+2],s}function fn(n,c,t,s){const f=s===n?s:on(n,s),M=t*4;return f[M+0]=c[0],f[M+1]=c[1],f[M+2]=c[2],f}function Sn(n,c){const t=c??z.create(),s=n[0],f=n[1],M=n[2],g=n[4],e=n[5],i=n[6],l=n[8],h=n[9],y=n[10];return t[0]=Math.sqrt(s*s+f*f+M*M),t[1]=Math.sqrt(g*g+e*e+i*i),t[2]=Math.sqrt(l*l+h*h+y*y),t}function an(n,c,t,s,f){const M=f??new u(16),g=Math.tan(Math.PI*.5-.5*n);if(M[0]=g/c,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=g,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,Number.isFinite(s)){const e=1/(t-s);M[10]=s*e,M[14]=s*t*e}else M[10]=-1,M[14]=-t;return M}function Bn(n,c,t,s=1/0,f){const M=f??new u(16),g=1/Math.tan(n*.5);if(M[0]=g/c,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=g,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,s===1/0)M[10]=0,M[14]=t;else{const e=1/(s-t);M[10]=t*e,M[14]=s*t*e}return M}function Un(n,c,t,s,f,M,g){const e=g??new u(16);return e[0]=2/(c-n),e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2/(s-t),e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1/(f-M),e[11]=0,e[12]=(c+n)/(n-c),e[13]=(s+t)/(t-s),e[14]=f/(f-M),e[15]=1,e}function wn(n,c,t,s,f,M,g){const e=g??new u(16),i=c-n,l=s-t,h=f-M;return e[0]=2*f/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*f/l,e[6]=0,e[7]=0,e[8]=(n+c)/i,e[9]=(s+t)/l,e[10]=M/h,e[11]=-1,e[12]=0,e[13]=0,e[14]=f*M/h,e[15]=0,e}function Ln(n,c,t,s,f,M=1/0,g){const e=g??new u(16),i=c-n,l=s-t;if(e[0]=2*f/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*f/l,e[6]=0,e[7]=0,e[8]=(n+c)/i,e[9]=(s+t)/l,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,M===1/0)e[10]=0,e[14]=f;else{const h=1/(M-f);e[10]=f*h,e[14]=M*f*h}return e}const H=z.create(),K=z.create(),Z=z.create();function w(n,c,t,s){const f=s??new u(16);return z.normalize(z.subtract(c,n,Z),Z),z.normalize(z.cross(t,Z,H),H),z.normalize(z.cross(Z,H,K),K),f[0]=H[0],f[1]=H[1],f[2]=H[2],f[3]=0,f[4]=K[0],f[5]=K[1],f[6]=K[2],f[7]=0,f[8]=Z[0],f[9]=Z[1],f[10]=Z[2],f[11]=0,f[12]=n[0],f[13]=n[1],f[14]=n[2],f[15]=1,f}function P(n,c,t,s){const f=s??new u(16);return z.normalize(z.subtract(n,c,Z),Z),z.normalize(z.cross(t,Z,H),H),z.normalize(z.cross(Z,H,K),K),f[0]=H[0],f[1]=H[1],f[2]=H[2],f[3]=0,f[4]=K[0],f[5]=K[1],f[6]=K[2],f[7]=0,f[8]=Z[0],f[9]=Z[1],f[10]=Z[2],f[11]=0,f[12]=n[0],f[13]=n[1],f[14]=n[2],f[15]=1,f}function p(n,c,t,s){const f=s??new u(16);return z.normalize(z.subtract(n,c,Z),Z),z.normalize(z.cross(t,Z,H),H),z.normalize(z.cross(Z,H,K),K),f[0]=H[0],f[1]=K[0],f[2]=Z[0],f[3]=0,f[4]=H[1],f[5]=K[1],f[6]=Z[1],f[7]=0,f[8]=H[2],f[9]=K[2],f[10]=Z[2],f[11]=0,f[12]=-(H[0]*n[0]+H[1]*n[1]+H[2]*n[2]),f[13]=-(K[0]*n[0]+K[1]*n[1]+K[2]*n[2]),f[14]=-(Z[0]*n[0]+Z[1]*n[1]+Z[2]*n[2]),f[15]=1,f}function S(n,c){const t=c??new u(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function B(n,c,t){const s=t??new u(16),f=c[0],M=c[1],g=c[2],e=n[0],i=n[1],l=n[2],h=n[3],y=n[1*4+0],x=n[1*4+1],A=n[1*4+2],U=n[1*4+3],$=n[2*4+0],V=n[2*4+1],E=n[2*4+2],v=n[2*4+3],j=n[3*4+0],C=n[3*4+1],en=n[3*4+2],cn=n[3*4+3];return n!==s&&(s[0]=e,s[1]=i,s[2]=l,s[3]=h,s[4]=y,s[5]=x,s[6]=A,s[7]=U,s[8]=$,s[9]=V,s[10]=E,s[11]=v),s[12]=e*f+y*M+$*g+j,s[13]=i*f+x*M+V*g+C,s[14]=l*f+A*M+E*g+en,s[15]=h*f+U*M+v*g+cn,s}function O(n,c){const t=c??new u(16),s=Math.cos(n),f=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=f,t[7]=0,t[8]=0,t[9]=-f,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G(n,c,t){const s=t??new u(16),f=n[4],M=n[5],g=n[6],e=n[7],i=n[8],l=n[9],h=n[10],y=n[11],x=Math.cos(c),A=Math.sin(c);return s[4]=x*f+A*i,s[5]=x*M+A*l,s[6]=x*g+A*h,s[7]=x*e+A*y,s[8]=x*i-A*f,s[9]=x*l-A*M,s[10]=x*h-A*g,s[11]=x*y-A*e,n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function R(n,c){const t=c??new u(16),s=Math.cos(n),f=Math.sin(n);return t[0]=s,t[1]=0,t[2]=-f,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=f,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(n,c,t){const s=t??new u(16),f=n[0*4+0],M=n[0*4+1],g=n[0*4+2],e=n[0*4+3],i=n[2*4+0],l=n[2*4+1],h=n[2*4+2],y=n[2*4+3],x=Math.cos(c),A=Math.sin(c);return s[0]=x*f-A*i,s[1]=x*M-A*l,s[2]=x*g-A*h,s[3]=x*e-A*y,s[8]=x*i+A*f,s[9]=x*l+A*M,s[10]=x*h+A*g,s[11]=x*y+A*e,n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function F(n,c){const t=c??new u(16),s=Math.cos(n),f=Math.sin(n);return t[0]=s,t[1]=f,t[2]=0,t[3]=0,t[4]=-f,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Y(n,c,t){const s=t??new u(16),f=n[0*4+0],M=n[0*4+1],g=n[0*4+2],e=n[0*4+3],i=n[1*4+0],l=n[1*4+1],h=n[1*4+2],y=n[1*4+3],x=Math.cos(c),A=Math.sin(c);return s[0]=x*f+A*i,s[1]=x*M+A*l,s[2]=x*g+A*h,s[3]=x*e+A*y,s[4]=x*i-A*f,s[5]=x*l-A*M,s[6]=x*h-A*g,s[7]=x*y-A*e,n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function W(n,c,t){const s=t??new u(16);let f=n[0],M=n[1],g=n[2];const e=Math.sqrt(f*f+M*M+g*g);f/=e,M/=e,g/=e;const i=f*f,l=M*M,h=g*g,y=Math.cos(c),x=Math.sin(c),A=1-y;return s[0]=i+(1-i)*y,s[1]=f*M*A+g*x,s[2]=f*g*A-M*x,s[3]=0,s[4]=f*M*A-g*x,s[5]=l+(1-l)*y,s[6]=M*g*A+f*x,s[7]=0,s[8]=f*g*A+M*x,s[9]=M*g*A-f*x,s[10]=h+(1-h)*y,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}const D=W;function q(n,c,t,s){const f=s??new u(16);let M=c[0],g=c[1],e=c[2];const i=Math.sqrt(M*M+g*g+e*e);M/=i,g/=i,e/=i;const l=M*M,h=g*g,y=e*e,x=Math.cos(t),A=Math.sin(t),U=1-x,$=l+(1-l)*x,V=M*g*U+e*A,E=M*e*U-g*A,v=M*g*U-e*A,j=h+(1-h)*x,C=g*e*U+M*A,en=M*e*U+g*A,cn=g*e*U-M*A,ln=y+(1-y)*x,Mn=n[0],Dn=n[1],pn=n[2],yn=n[3],xn=n[4],qn=n[5],Pn=n[6],In=n[7],On=n[8],Fn=n[9],Yn=n[10],$n=n[11];return f[0]=$*Mn+V*xn+E*On,f[1]=$*Dn+V*qn+E*Fn,f[2]=$*pn+V*Pn+E*Yn,f[3]=$*yn+V*In+E*$n,f[4]=v*Mn+j*xn+C*On,f[5]=v*Dn+j*qn+C*Fn,f[6]=v*pn+j*Pn+C*Yn,f[7]=v*yn+j*In+C*$n,f[8]=en*Mn+cn*xn+ln*On,f[9]=en*Dn+cn*qn+ln*Fn,f[10]=en*pn+cn*Pn+ln*Yn,f[11]=en*yn+cn*In+ln*$n,n!==f&&(f[12]=n[12],f[13]=n[13],f[14]=n[14],f[15]=n[15]),f}const o=q;function r(n,c){const t=c??new u(16);return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(n,c,t){const s=t??new u(16),f=c[0],M=c[1],g=c[2];return s[0]=f*n[0*4+0],s[1]=f*n[0*4+1],s[2]=f*n[0*4+2],s[3]=f*n[0*4+3],s[4]=M*n[1*4+0],s[5]=M*n[1*4+1],s[6]=M*n[1*4+2],s[7]=M*n[1*4+3],s[8]=g*n[2*4+0],s[9]=g*n[2*4+1],s[10]=g*n[2*4+2],s[11]=g*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function d(n,c){const t=c??new u(16);return t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(n,c,t){const s=t??new u(16);return s[0]=c*n[0*4+0],s[1]=c*n[0*4+1],s[2]=c*n[0*4+2],s[3]=c*n[0*4+3],s[4]=c*n[1*4+0],s[5]=c*n[1*4+1],s[6]=c*n[1*4+2],s[7]=c*n[1*4+3],s[8]=c*n[2*4+0],s[9]=c*n[2*4+1],s[10]=c*n[2*4+2],s[11]=c*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}return{create:L,set:J,fromMat3:Q,fromQuat:_,negate:nn,copy:on,clone:rn,equalsApproximately:En,equals:zn,identity:un,transpose:hn,inverse:sn,determinant:An,invert:tn,multiply:b,mul:k,setTranslation:T,getTranslation:m,getAxis:dn,setAxis:fn,getScaling:Sn,perspective:an,perspectiveReverseZ:Bn,ortho:Un,frustum:wn,frustumReverseZ:Ln,aim:w,cameraAim:P,lookAt:p,translation:S,translate:B,rotationX:O,rotateX:G,rotationY:R,rotateY:N,rotationZ:F,rotateZ:Y,axisRotation:W,rotation:D,axisRotate:q,rotate:o,scaling:r,scale:a,uniformScaling:d,uniformScale:I}}const it=new Map;function gt(u){let z=it.get(u);return z||(z=xt(u),it.set(u,z)),z}function zt(u){const z=kn(u);function L(D,q,o,r){const a=new u(4);return D!==void 0&&(a[0]=D,q!==void 0&&(a[1]=q,o!==void 0&&(a[2]=o,r!==void 0&&(a[3]=r)))),a}const J=L;function Q(D,q,o,r,a){const d=a??new u(4);return d[0]=D,d[1]=q,d[2]=o,d[3]=r,d}function _(D,q,o){const r=o??new u(4),a=q*.5,d=Math.sin(a);return r[0]=d*D[0],r[1]=d*D[1],r[2]=d*D[2],r[3]=Math.cos(a),r}function nn(D,q){const o=q??z.create(3),r=Math.acos(D[3])*2,a=Math.sin(r*.5);return a>X?(o[0]=D[0]/a,o[1]=D[1]/a,o[2]=D[2]/a):(o[0]=1,o[1]=0,o[2]=0),{angle:r,axis:o}}function on(D,q){const o=wn(D,q);return Math.acos(2*o*o-1)}function rn(D,q,o){const r=o??new u(4),a=D[0],d=D[1],I=D[2],n=D[3],c=q[0],t=q[1],s=q[2],f=q[3];return r[0]=a*f+n*c+d*s-I*t,r[1]=d*f+n*t+I*c-a*s,r[2]=I*f+n*s+a*t-d*c,r[3]=n*f-a*c-d*t-I*s,r}const En=rn;function zn(D,q,o){const r=o??new u(4),a=q*.5,d=D[0],I=D[1],n=D[2],c=D[3],t=Math.sin(a),s=Math.cos(a);return r[0]=d*s+c*t,r[1]=I*s+n*t,r[2]=n*s-I*t,r[3]=c*s-d*t,r}function un(D,q,o){const r=o??new u(4),a=q*.5,d=D[0],I=D[1],n=D[2],c=D[3],t=Math.sin(a),s=Math.cos(a);return r[0]=d*s-n*t,r[1]=I*s+c*t,r[2]=n*s+d*t,r[3]=c*s-I*t,r}function hn(D,q,o){const r=o??new u(4),a=q*.5,d=D[0],I=D[1],n=D[2],c=D[3],t=Math.sin(a),s=Math.cos(a);return r[0]=d*s+I*t,r[1]=I*s-d*t,r[2]=n*s+c*t,r[3]=c*s-n*t,r}function sn(D,q,o,r){const a=r??new u(4),d=D[0],I=D[1],n=D[2],c=D[3];let t=q[0],s=q[1],f=q[2],M=q[3],g=d*t+I*s+n*f+c*M;g<0&&(g=-g,t=-t,s=-s,f=-f,M=-M);let e,i;if(1-g>X){const l=Math.acos(g),h=Math.sin(l);e=Math.sin((1-o)*l)/h,i=Math.sin(o*l)/h}else e=1-o,i=o;return a[0]=e*d+i*t,a[1]=e*I+i*s,a[2]=e*n+i*f,a[3]=e*c+i*M,a}function An(D,q){const o=q??new u(4),r=D[0],a=D[1],d=D[2],I=D[3],n=r*r+a*a+d*d+I*I,c=n?1/n:0;return o[0]=-r*c,o[1]=-a*c,o[2]=-d*c,o[3]=I*c,o}function tn(D,q){const o=q??new u(4);return o[0]=-D[0],o[1]=-D[1],o[2]=-D[2],o[3]=D[3],o}function b(D,q){const o=q??new u(4),r=D[0]+D[5]+D[10];if(r>0){const a=Math.sqrt(r+1);o[3]=.5*a;const d=.5/a;o[0]=(D[6]-D[9])*d,o[1]=(D[8]-D[2])*d,o[2]=(D[1]-D[4])*d}else{let a=0;D[5]>D[0]&&(a=1),D[10]>D[a*4+a]&&(a=2);const d=(a+1)%3,I=(a+2)%3,n=Math.sqrt(D[a*4+a]-D[d*4+d]-D[I*4+I]+1);o[a]=.5*n;const c=.5/n;o[3]=(D[d*4+I]-D[I*4+d])*c,o[d]=(D[d*4+a]+D[a*4+d])*c,o[I]=(D[I*4+a]+D[a*4+I])*c}return o}function k(D,q,o,r,a){const d=a??new u(4),I=D*.5,n=q*.5,c=o*.5,t=Math.sin(I),s=Math.cos(I),f=Math.sin(n),M=Math.cos(n),g=Math.sin(c),e=Math.cos(c);switch(r){case"xyz":d[0]=t*M*e+s*f*g,d[1]=s*f*e-t*M*g,d[2]=s*M*g+t*f*e,d[3]=s*M*e-t*f*g;break;case"xzy":d[0]=t*M*e-s*f*g,d[1]=s*f*e-t*M*g,d[2]=s*M*g+t*f*e,d[3]=s*M*e+t*f*g;break;case"yxz":d[0]=t*M*e+s*f*g,d[1]=s*f*e-t*M*g,d[2]=s*M*g-t*f*e,d[3]=s*M*e+t*f*g;break;case"yzx":d[0]=t*M*e+s*f*g,d[1]=s*f*e+t*M*g,d[2]=s*M*g-t*f*e,d[3]=s*M*e-t*f*g;break;case"zxy":d[0]=t*M*e-s*f*g,d[1]=s*f*e+t*M*g,d[2]=s*M*g+t*f*e,d[3]=s*M*e-t*f*g;break;case"zyx":d[0]=t*M*e-s*f*g,d[1]=s*f*e+t*M*g,d[2]=s*M*g-t*f*e,d[3]=s*M*e+t*f*g;break;default:throw new Error(`Unknown rotation order: ${r}`)}return d}function T(D,q){const o=q??new u(4);return o[0]=D[0],o[1]=D[1],o[2]=D[2],o[3]=D[3],o}const m=T;function dn(D,q,o){const r=o??new u(4);return r[0]=D[0]+q[0],r[1]=D[1]+q[1],r[2]=D[2]+q[2],r[3]=D[3]+q[3],r}function fn(D,q,o){const r=o??new u(4);return r[0]=D[0]-q[0],r[1]=D[1]-q[1],r[2]=D[2]-q[2],r[3]=D[3]-q[3],r}const Sn=fn;function an(D,q,o){const r=o??new u(4);return r[0]=D[0]*q,r[1]=D[1]*q,r[2]=D[2]*q,r[3]=D[3]*q,r}const Bn=an;function Un(D,q,o){const r=o??new u(4);return r[0]=D[0]/q,r[1]=D[1]/q,r[2]=D[2]/q,r[3]=D[3]/q,r}function wn(D,q){return D[0]*q[0]+D[1]*q[1]+D[2]*q[2]+D[3]*q[3]}function Ln(D,q,o,r){const a=r??new u(4);return a[0]=D[0]+o*(q[0]-D[0]),a[1]=D[1]+o*(q[1]-D[1]),a[2]=D[2]+o*(q[2]-D[2]),a[3]=D[3]+o*(q[3]-D[3]),a}function H(D){const q=D[0],o=D[1],r=D[2],a=D[3];return Math.sqrt(q*q+o*o+r*r+a*a)}const K=H;function Z(D){const q=D[0],o=D[1],r=D[2],a=D[3];return q*q+o*o+r*r+a*a}const w=Z;function P(D,q){const o=q??new u(4),r=D[0],a=D[1],d=D[2],I=D[3],n=Math.sqrt(r*r+a*a+d*d+I*I);return n>1e-5?(o[0]=r/n,o[1]=a/n,o[2]=d/n,o[3]=I/n):(o[0]=0,o[1]=0,o[2]=0,o[3]=0),o}function p(D,q){return Math.abs(D[0]-q[0])<X&&Math.abs(D[1]-q[1])<X&&Math.abs(D[2]-q[2])<X&&Math.abs(D[3]-q[3])<X}function S(D,q){return D[0]===q[0]&&D[1]===q[1]&&D[2]===q[2]&&D[3]===q[3]}function B(D){const q=D??new u(4);return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q}const O=z.create(),G=z.create(),R=z.create();function N(D,q,o){const r=o??new u(4),a=z.dot(D,q);return a<-.999999?(z.cross(G,D,O),z.len(O)<1e-6&&z.cross(R,D,O),z.normalize(O,O),_(O,Math.PI,r),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(z.cross(D,q,O),r[0]=O[0],r[1]=O[1],r[2]=O[2],r[3]=1+a,P(r,r))}const F=new u(4),Y=new u(4);function W(D,q,o,r,a,d){const I=d??new u(4);return sn(D,r,a,F),sn(q,o,a,Y),sn(F,Y,2*a*(1-a),I),I}return{create:L,fromValues:J,set:Q,fromAxisAngle:_,toAxisAngle:nn,angle:on,multiply:rn,mul:En,rotateX:zn,rotateY:un,rotateZ:hn,slerp:sn,inverse:An,conjugate:tn,fromMat:b,fromEuler:k,copy:T,clone:m,add:dn,subtract:fn,sub:Sn,mulScalar:an,scale:Bn,divScalar:Un,dot:wn,lerp:Ln,length:H,len:K,lengthSq:Z,lenSq:w,normalize:P,equalsApproximately:p,equals:S,identity:B,rotationTo:N,sqlerp:W}}const ut=new Map;function At(u){let z=ut.get(u);return z||(z=zt(u),ut.set(u,z)),z}function St(u){function z(o,r,a,d){const I=new u(4);return o!==void 0&&(I[0]=o,r!==void 0&&(I[1]=r,a!==void 0&&(I[2]=a,d!==void 0&&(I[3]=d)))),I}const L=z;function J(o,r,a,d,I){const n=I??new u(4);return n[0]=o,n[1]=r,n[2]=a,n[3]=d,n}function Q(o,r){const a=r??new u(4);return a[0]=Math.ceil(o[0]),a[1]=Math.ceil(o[1]),a[2]=Math.ceil(o[2]),a[3]=Math.ceil(o[3]),a}function _(o,r){const a=r??new u(4);return a[0]=Math.floor(o[0]),a[1]=Math.floor(o[1]),a[2]=Math.floor(o[2]),a[3]=Math.floor(o[3]),a}function nn(o,r){const a=r??new u(4);return a[0]=Math.round(o[0]),a[1]=Math.round(o[1]),a[2]=Math.round(o[2]),a[3]=Math.round(o[3]),a}function on(o,r=0,a=1,d){const I=d??new u(4);return I[0]=Math.min(a,Math.max(r,o[0])),I[1]=Math.min(a,Math.max(r,o[1])),I[2]=Math.min(a,Math.max(r,o[2])),I[3]=Math.min(a,Math.max(r,o[3])),I}function rn(o,r,a){const d=a??new u(4);return d[0]=o[0]+r[0],d[1]=o[1]+r[1],d[2]=o[2]+r[2],d[3]=o[3]+r[3],d}function En(o,r,a,d){const I=d??new u(4);return I[0]=o[0]+r[0]*a,I[1]=o[1]+r[1]*a,I[2]=o[2]+r[2]*a,I[3]=o[3]+r[3]*a,I}function zn(o,r,a){const d=a??new u(4);return d[0]=o[0]-r[0],d[1]=o[1]-r[1],d[2]=o[2]-r[2],d[3]=o[3]-r[3],d}const un=zn;function hn(o,r){return Math.abs(o[0]-r[0])<X&&Math.abs(o[1]-r[1])<X&&Math.abs(o[2]-r[2])<X&&Math.abs(o[3]-r[3])<X}function sn(o,r){return o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]&&o[3]===r[3]}function An(o,r,a,d){const I=d??new u(4);return I[0]=o[0]+a*(r[0]-o[0]),I[1]=o[1]+a*(r[1]-o[1]),I[2]=o[2]+a*(r[2]-o[2]),I[3]=o[3]+a*(r[3]-o[3]),I}function tn(o,r,a,d){const I=d??new u(4);return I[0]=o[0]+a[0]*(r[0]-o[0]),I[1]=o[1]+a[1]*(r[1]-o[1]),I[2]=o[2]+a[2]*(r[2]-o[2]),I[3]=o[3]+a[3]*(r[3]-o[3]),I}function b(o,r,a){const d=a??new u(4);return d[0]=Math.max(o[0],r[0]),d[1]=Math.max(o[1],r[1]),d[2]=Math.max(o[2],r[2]),d[3]=Math.max(o[3],r[3]),d}function k(o,r,a){const d=a??new u(4);return d[0]=Math.min(o[0],r[0]),d[1]=Math.min(o[1],r[1]),d[2]=Math.min(o[2],r[2]),d[3]=Math.min(o[3],r[3]),d}function T(o,r,a){const d=a??new u(4);return d[0]=o[0]*r,d[1]=o[1]*r,d[2]=o[2]*r,d[3]=o[3]*r,d}const m=T;function dn(o,r,a){const d=a??new u(4);return d[0]=o[0]/r,d[1]=o[1]/r,d[2]=o[2]/r,d[3]=o[3]/r,d}function fn(o,r){const a=r??new u(4);return a[0]=1/o[0],a[1]=1/o[1],a[2]=1/o[2],a[3]=1/o[3],a}const Sn=fn;function an(o,r){return o[0]*r[0]+o[1]*r[1]+o[2]*r[2]+o[3]*r[3]}function Bn(o){const r=o[0],a=o[1],d=o[2],I=o[3];return Math.sqrt(r*r+a*a+d*d+I*I)}const Un=Bn;function wn(o){const r=o[0],a=o[1],d=o[2],I=o[3];return r*r+a*a+d*d+I*I}const Ln=wn;function H(o,r){const a=o[0]-r[0],d=o[1]-r[1],I=o[2]-r[2],n=o[3]-r[3];return Math.sqrt(a*a+d*d+I*I+n*n)}const K=H;function Z(o,r){const a=o[0]-r[0],d=o[1]-r[1],I=o[2]-r[2],n=o[3]-r[3];return a*a+d*d+I*I+n*n}const w=Z;function P(o,r){const a=r??new u(4),d=o[0],I=o[1],n=o[2],c=o[3],t=Math.sqrt(d*d+I*I+n*n+c*c);return t>1e-5?(a[0]=d/t,a[1]=I/t,a[2]=n/t,a[3]=c/t):(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function p(o,r){const a=r??new u(4);return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=-o[3],a}function S(o,r){const a=r??new u(4);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a}const B=S;function O(o,r,a){const d=a??new u(4);return d[0]=o[0]*r[0],d[1]=o[1]*r[1],d[2]=o[2]*r[2],d[3]=o[3]*r[3],d}const G=O;function R(o,r,a){const d=a??new u(4);return d[0]=o[0]/r[0],d[1]=o[1]/r[1],d[2]=o[2]/r[2],d[3]=o[3]/r[3],d}const N=R;function F(o){const r=o??new u(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}function Y(o,r,a){const d=a??new u(4),I=o[0],n=o[1],c=o[2],t=o[3];return d[0]=r[0]*I+r[4]*n+r[8]*c+r[12]*t,d[1]=r[1]*I+r[5]*n+r[9]*c+r[13]*t,d[2]=r[2]*I+r[6]*n+r[10]*c+r[14]*t,d[3]=r[3]*I+r[7]*n+r[11]*c+r[15]*t,d}function W(o,r,a){const d=a??new u(4);return P(o,d),T(d,r,d)}function D(o,r,a){const d=a??new u(4);return Bn(o)>r?W(o,r,d):S(o,d)}function q(o,r,a){const d=a??new u(4);return An(o,r,.5,d)}return{create:z,fromValues:L,set:J,ceil:Q,floor:_,round:nn,clamp:on,add:rn,addScaled:En,subtract:zn,sub:un,equalsApproximately:hn,equals:sn,lerp:An,lerpV:tn,max:b,min:k,mulScalar:T,scale:m,divScalar:dn,inverse:fn,invert:Sn,dot:an,length:Bn,len:Un,lengthSq:wn,lenSq:Ln,distance:H,dist:K,distanceSq:Z,distSq:w,normalize:P,negate:p,copy:S,clone:B,multiply:O,mul:G,divide:R,div:N,zero:F,transformMat4:Y,setLength:W,truncate:D,midpoint:q}}const ft=new Map;function qt(u){let z=ft.get(u);return z||(z=St(u),ft.set(u,z)),z}function mn(u,z,L,J,Q,_){return{mat4:gt(u),mat3:pt(z),quat:At(L),vec2:lt(J),vec3:kn(Q),vec4:qt(_)}}const{mat4:Ut,mat3:Gn,quat:Ft,vec2:Yt,vec3:$t,vec4:Lt}=mn(Float32Array,Float32Array,Float32Array,Float32Array,Float32Array,Float32Array);mn(Float64Array,Float64Array,Float64Array,Float64Array,Float64Array,Float64Array);mn(dt,Array,Array,Array,Array,Array);var Tn,Nn,Rn,Xn;class Pt{constructor(z){vn(this,Tn);vn(this,Nn,1);vn(this,Rn,0);vn(this,Xn,0);Zn(this,Tn,z),this.reset()}get tx(){return Vn(this,Rn)}get ty(){return Vn(this,Xn)}reset(){return Gn.identity(Vn(this,Tn)),this}scaleBy(z){return Zn(this,Nn,Vn(this,Nn)*z),this}translateBy(z,L){return Zn(this,Rn,Vn(this,Rn)+z),Zn(this,Xn,Vn(this,Xn)+L),this}flush(){this.reset(),Gn.translate(Vn(this,Tn),[Vn(this,Rn),Vn(this,Xn)],Vn(this,Tn)),Gn.uniformScale(Vn(this,Tn),Vn(this,Nn),Vn(this,Tn))}}Tn=new WeakMap,Nn=new WeakMap,Rn=new WeakMap,Xn=new WeakMap;const at=(u,z,L)=>Math.max(z,Math.min(u,L)),It=async(u=[],z=[],L={})=>{if(!navigator.gpu)throw new Error("WebGPU not supported in browser");const J=await navigator.gpu.requestAdapter({powerPreference:"low-power"});if(!J)throw new Error("Cannot get WebGPU adapter");const Q=u.slice();for(const nn of z)J.features.has(nn)&&Q.push(nn);const _=await J.requestDevice({requiredFeatures:Q,requiredLimits:L});if(!_)throw new Error("Cannot get WebGPU device");return _},wt=()=>navigator.gpu.getPreferredCanvasFormat(),Ot=(u,z,L)=>{Gn.identity(L),Gn.translate(L,[-1,1],L),Gn.scale(L,[2/u,-2/z],L)};async function Vt(){const u=await It(),z=document.createElement("canvas");document.body.appendChild(z);const L=z.getContext("webgpu");L.configure({device:u,format:wt()});const J=u.createShaderModule({label:"hardcoded triangle shader",code:`
      struct Uniform {
        projection: mat3x3f,
        model: mat3x3f,
      };
      struct Vertex {
        @location(0) position: vec2f,
      };
      struct VertexOutput {
        @builtin(position) position: vec4f,
      };

      @group(0) @binding(0) var<uniform> uni: Uniform;

      @vertex fn vs(vert: Vertex) -> VertexOutput {
        var vsOutput: VertexOutput;
        let clipSpace = (uni.projection * uni.model * vec3f(vert.position, 1)).xy;
        vsOutput.position = vec4f(clipSpace, 0.0, 1.0);
        return vsOutput;
      }

      @fragment fn fs(fsInput: VertexOutput) -> @location(0) vec4f {
        return vec4f(1, 1, 1, 1);
      }
    `}),Q=u.createRenderPipeline({layout:"auto",vertex:{module:J,buffers:[{attributes:[{shaderLocation:0,format:"float32x2",offset:0}],arrayStride:2*4,stepMode:"vertex"}]},fragment:{module:J,targets:[{format:wt()}]}}),_=u.createBuffer({size:24*4,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),nn=new Float32Array(24),on=nn.subarray(0,12),rn=new Pt(nn.subarray(12,24)),En=u.createBindGroup({layout:Q.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:_}}]}),zn=u.createBuffer({size:2*3*4,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),un=Et();u.queue.writeBuffer(zn,0,un);let hn=!1;function sn(){u.queue.writeBuffer(_,0,nn);const tn={label:"our basic canvas renderPass",colorAttachments:[{view:L.getCurrentTexture().createView(),clearValue:[.3,.3,.3,1],loadOp:"clear",storeOp:"store"}]},b=u.createCommandEncoder({label:"our encoder"}),k=b.beginRenderPass(tn);k.setPipeline(Q),k.setBindGroup(0,En),k.setVertexBuffer(0,zn),k.draw(3),k.end();const T=b.finish();u.queue.submit([T])}const An=()=>{hn&&(sn(),hn=!1),requestAnimationFrame(An)};An();{const tn=new ResizeObserver(b=>{var k,T;for(const m of b){const dn=Math.min(2,devicePixelRatio),fn=((k=m.devicePixelContentBoxSize)==null?void 0:k[0].inlineSize)||m.contentBoxSize[0].inlineSize*dn,Sn=((T=m.devicePixelContentBoxSize)==null?void 0:T[0].blockSize)||m.contentBoxSize[0].blockSize*dn,an=m.target;an.width=at(fn,1,u.limits.maxTextureDimension2D),an.height=at(Sn,1,u.limits.maxTextureDimension2D),Ot(an.width,an.height,on),sn()}});try{tn.observe(z,{box:"device-pixel-content-box"})}catch{tn.observe(z,{box:"content-box"})}}{let tn;(T=>{T[T.NONE=0]="NONE",T[T.PRIMARY=1]="PRIMARY",T[T.SECONDARY=2]="SECONDARY",T[T.AUXILIARY=4]="AUXILIARY"})(tn||(tn={}));let b=!1;const k=Math.min(2,devicePixelRatio);z.addEventListener("pointerdown",T=>{b||T.buttons^1||(T.preventDefault(),b=!0,z.style.cursor="move")}),z.addEventListener("pointermove",T=>{b&&(T.preventDefault(),rn.translateBy(T.movementX*k,T.movementY*k).flush(),hn=!0)}),z.addEventListener("pointerup",T=>{!b||T.buttons^0||(T.preventDefault(),b=!1,z.style.cursor="default")}),z.addEventListener("wheel",T=>{T.preventDefault();const m=Math.pow(.998,T.deltaY),dn=(T.pageX*k-rn.tx)*(1-m),fn=(T.pageY*k-rn.ty)*(1-m);rn.translateBy(dn,fn).scaleBy(m).flush(),hn=!0})}}function Et(){const u=new Float32Array(6);return u[0]=100,u[1]=100,u[2]=200,u[3]=200,u[4]=100,u[5]=200,u}window.onload=Vt;
